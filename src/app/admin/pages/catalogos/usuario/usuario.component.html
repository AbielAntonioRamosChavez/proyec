<div class="container-fluid px-4">
  <app-breadscrumb [breadScrumbText]="breadText"></app-breadscrumb>

  <h2 class="mt-4">Lista de Usuarios</h2>

  <!-- Barra de búsqueda -->
  <div class="mb-3">
    <input 
      type="text" 
      class="form-control" 
      placeholder="Buscar en cualquier campo..." 
      [(ngModel)]="filtro"
    />
  </div>

  <!-- Tabla de usuarios -->
  <div class="table-responsive">
    <table class="table table-striped">
      <thead class="table-dark">
        <tr>
          <th>Nombre</th>
          <th>Correo</th>
          <th>Teléfono</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let usuario of usuariosFiltrados">
          <td>{{ usuario.nombre }} {{ usuario.apellidos }}</td>
          <td>{{ usuario.correo }}</td>
          <td>{{ usuario.telefono }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Sección de registro -->
  <h2 class="mt-4">Registrar Usuario</h2>
  <form (ngSubmit)="registrarUsuario()" class="mb-4">
    <div class="row">
      <!-- Primera columna -->
      <div class="col-md-6">
        <div class="mb-3">
          <label class="form-label">Nombre:</label>
          <input 
            type="text" 
            [(ngModel)]="nuevoUsuario.nombre" 
            name="nombre" 
            class="form-control" 
            required 
          />
        </div>

        <div class="mb-3">
          <label class="form-label">Apellidos:</label>
          <input 
            type="text" 
            [(ngModel)]="nuevoUsuario.apellidos" 
            name="apellidos" 
            class="form-control" 
          />
        </div>

        <div class="mb-3">
          <label class="form-label">Correo:</label>
          <input 
            type="email" 
            [(ngModel)]="nuevoUsuario.correo" 
            name="correo" 
            class="form-control" 
            required 
          />
        </div>
      </div>

      <!-- Segunda columna -->
      <div class="col-md-6">
        <div class="mb-3">
          <label class="form-label">Contraseña:</label>
          <input 
            type="password" 
            [(ngModel)]="nuevoUsuario.contrasena" 
            name="contrasena" 
            class="form-control" 
            required 
          />
        </div>

        <div class="mb-3">
          <label class="form-label">Dirección:</label>
          <input 
            type="text" 
            [(ngModel)]="nuevoUsuario.direccion" 
            name="direccion" 
            class="form-control" 
          />
        </div>

        <div class="mb-3">
          <label class="form-label">Teléfono:</label>
          <input 
            type="text" 
            [(ngModel)]="nuevoUsuario.telefono" 
            name="telefono" 
            class="form-control" 
          />
        </div>
      </div>
    </div>

    <!-- Botón de registro -->
    <button type="submit" class="btn btn-primary mt-3 w-100">Registrar</button>
  </form>

  <!-- Mensaje de error -->
  <p *ngIf="mensajeError" class="text-danger">{{ mensajeError }}</p>
</div>
